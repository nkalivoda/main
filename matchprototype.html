<html>
<head><title>Syntax prosody interface application</title></head>

<body> <pre id="results-container">Look at the console!</pre>

<script>
var report = [];
function logreport(line){
	report.push(line);
}
</script>

<script src="trees.js"></script>

<script src="constraints.js"></script>

<script>
/*******************
* A bit of Javascript that allows us to see 
* the output of this program in the browser's console 
* when we open this html file in the browser to run the JS program
*******************/

/*console.log(syntree1.children);		//some optionality in the JS syntax
console.log(syntree1["children"]);
console.log(JSON.stringify(syntree1.children)); //getting text version of the object

console.log(getLeaves(syntree1));
console.log(sameIds(getLeaves(syntree1), getLeaves(syntree1)));
console.log(sameIds(getLeaves(syntree1), getLeaves(prostree1)));
console.log("This should be false.")
console.log(sameIds(getLeaves(syntree1), getLeaves(syntree0)));
console.log("running hasMatch(getLeaves(syntree1), prostree1)");
console.log(hasMatch(getLeaves(syntree1), prostree1));

console.log("Should be true: running hasMatch(getLeaves(syntree1.children[0]), prostree1)");
console.log(hasMatch(getLeaves(syntree1.children[0]), prostree1));


console.log("Should be false: running hasMatch(getLeaves(syntree1.children[0]), prostree2)");
console.log(hasMatch(getLeaves(syntree1.children[0]), prostree2));
*/

window.addEventListener("load", function(){
	console.log(report);
	document.getElementById("results-container").innerHTML=report.join("<br>");
});

logreport("Running matchSP(syntree1, prostree1, 'xp') - Should be 0 violations.");
logreport("Violations: " +matchSP(syntree1, prostree1, "xp"));
logreport("");
logreport("Running matchSP(syntree1, prostree2, 'xp') - Should be 2 violations.");
logreport("Violations: " +matchSP(syntree1, prostree2, "xp"));

logreport("Running 3 versions of EqualSisters on unequalSisters1");
logreport(" - violations of equalSistersFirstPrivilege: 1 expected, "+equalSistersFirstPrivilege(unequalSisters1)+" actual violations");
logreport(" - violations of equalSistersPairwise: 2 expected, "+equalSistersPairwise(unequalSisters1)+" actual violations");
logreport(" - violations of equalSistersAdj: 2 expected, "+equalSistersAdj(unequalSisters1)+" actual violations");

logreport("Running 3 versions of EqualSisters on unequalSisters2");
logreport(" - violations of equalSistersFirstPrivilege: 2 expected, "+equalSistersFirstPrivilege(unequalSisters2)+" actual violations");
logreport(" - violations of equalSistersPairwise: 4 expected, "+equalSistersPairwise(unequalSisters2)+" actual violations");
logreport(" - violations of equalSistersAdj: 2 expected, "+equalSistersAdj(unequalSisters2)+" actual violations");

logreport("Running 3 versions of EqualSisters on unequalSisters3");
logreport(" - violations of equalSistersFirstPrivilege: 2 expected, "+equalSistersFirstPrivilege(unequalSisters3)+" actual violations");
logreport(" - violations of equalSistersPairwise: 4 expected, "+equalSistersPairwise(unequalSisters3)+" actual violations");
logreport(" - violations of equalSistersAdj: 3 expected, "+equalSistersAdj(unequalSisters3)+" actual violations");

/*console.log("running match(syntree1, prostree1)");
console.log(matchSP(syntree1, prostree1));
console.log("running match(syntree1, prostree2)");
console.log(matchSP(syntree1, prostree2));
console.log("running match(syntree1, prostree3)");
console.log(matchSP(syntree1, prostree3));
*/

</script>

</body>

</html>
